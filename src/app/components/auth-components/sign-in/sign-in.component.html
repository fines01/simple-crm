<!-- TODO make new w material -->
<div class="cards-container">

  <mat-card>

    <form [class.ng-valid]="!emailSignInSubmitted" action="" #authForm="ngForm" class="">

      <mat-card-title class="align-center">
        Log In
      </mat-card-title>

      <!-- <div class="error-msg warn">Wrong login credentials!</div> -->

      <div class="">
        <mat-form-field appearance="outline" color="accent" class="width-100">
          <mat-label>E-Mail</mat-label>
          <input type="text" [(ngModel)]="userEmail" matInput name="username" #emailInput="ngModel"
            class="form-control" placeholder="Password" email [required]="emailSignInSubmitted" autocomplete="off">
          <mat-hint>E-mail</mat-hint>
          <mat-error *ngIf="emailInput.dirty && emailInput.invalid">Please enter a valid E-mail</mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline" color="accent" class="width-100">
          <mat-label>Password</mat-label>
          <input type="password" [(ngModel)]="userPassword" matInput name="password" #pwInput="ngModel"
            class="form-control" placeholder="Password" [required]="emailSignInSubmitted || checkPWRequired()" autocomplete="off">
          <mat-hint>Password</mat-hint>
          <mat-error *ngIf="checkPWRequired() && pwInput.dirty && pwInput.invalid">Please enter your password</mat-error>
        </mat-form-field>
      </div>
      <!-- TODO checkbox: remember me -->

      <div *ngIf="errorMessage"  class="error-msg warn">{{ errorMessage }}</div>

      <div class="form-buttons " mat-dialog-actions>
        <button [disabled]="checkInputsEmpty() || authForm.invalid" mat-button class=" width-50 mr-16 btn-login" (click)="authForm.valid && emailSignIn()" >Log In</button>
        <button mat-button class="width-50 btn-guest-login" (click)="guestSignIn()">Log in as guest</button>
      </div>

      <div class="width-100 form-info align-center">
        <span class="link" [routerLink]="'/home/reset-password'">Forgot Password?</span>
      </div>
      <div class="form-info align-center">
        Not signed up yet? <span class="link" [routerLink]="'/home/sign-up'">Sign Up</span>
      </div>

    </form>

  </mat-card>

  <mat-card class="mt-32">
    <div class="width-100">
      <mat-card-title class="align-center">
        <h3>Or continue with Google</h3>
      </mat-card-title>

      <div mat-dialog-actions class="mt-16 align-center o-auth-buttons">
        <button disabled class="btn-logo" mat-button (click)="googleSignIn()">
          <img src="./assets/img/google-icon-logo-pngrepo-com.png" alt="" class="btn-icon">
          Sign in with Google
        </button>
      </div>
    </div>

  </mat-card>

</div>
